<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

	<title>barryvan/CSSMin @ GitHub</title>
	
	<style type="text/css">
		body {
  		margin-top: 1.0em;
			background: white;
		  font-family: "Helvetica,Arial,FreeSans"; 
  		color: #000000;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
		h1 { font-size: 3.8em; color: #0fbe3c; margin-bottom: 3px; }
		h1 .small { font-size: 0.4em; }
		h1 a { text-decoration: none }
		h2 { font-size: 1.5em; color: #0fbe3c; }
    h3 { text-align: center; color: #0fbe3c; }
    a { color: #0fbe3c; }
    .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
    .download { float: right; }
		pre { background: #000; color: #fff; padding: 15px;}
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding-top:30px; font-style: italic; }
	</style>
	
</head>

<body>
  <a href="http://github.com/barryvan/CSSMin"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  
  <div id="container">

    <div class="download">
      <a href="http://github.com/barryvan/CSSMin/zipball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/zip.png"></a>
      <a href="http://github.com/barryvan/CSSMin/tarball/master">
        <img border="0" width="90" src="http://github.com/images/modules/download/tar.png"></a>
    </div>
      
    <h1><a href="http://github.com/barryvan/CSSMin">CSSMin</a> 
      <span class="small">by <a href="http://github.com/barryvan">barryvan</a></span></h1>

    <div class="description">
      CSS Minifier and alphabetiser
    </div>

<h2>What is it?</h2>
CSSMin takes your CSS file and strips out everything that's not needed -- spaces, extra semicolons, redundant units, and so on. That's great, but there are loads of programs that do that. A shell script could do that! So what makes CSSMin different?

When you deliver content over the web, best practice is to deliver it gzipped. CSSMin takes your CSS file, and optimises it for gzip compression. This means that there's a smaller payload delivered over the wire, which results in a faster experience for your users. It does this optimisation by ensuring that the properties inside your selectors are ordered consistently (alphabetically) and in lower case. That way, the gzip algorithm can work at its best.

What this means in practice is that your gzipped CSSMin-ed files are significantly smaller than plain gzipped CSS, and noticeably smaller than files that have been compressed by other means (say, YUI).

<h2>In this update:</h2>
<h3>Nested properties are now fully supported.</h3>
This means that the following CSS:
[sourcecode language="css"]@-webkit-keyframes 'fadeUp' {
  from { opacity: 0; }
  to { opacity: 1; }
}[/sourcecode]
is compressed down to
[sourcecode language="css"]@-webkit-keyframes 'fadeUp'{from{opacity:0}to{opacity:1}}[/sourcecode]
Your nested properties will have their contents compressed with all of the other tricks in system, but their order will be retained.

Thanks to <a href="https://github.com/bloveridge">bloveridge</a> for reporting this bug and verifying the fix.

<h3>Font weights are replaced by their numeric counterparts.</h3>
[sourcecode language="css"].alpha {
  font-weight: bold;
}
.beta {
  font-weight: normal;
}[/sourcecode]
becomes
[sourcecode language="css"].alpha{font-weight:700}.beta{font-weight:400}[/sourcecode]
Values supported are "lighter", "normal", "bold", and "bolder".

<h3>Quotes are stripped where possible.</h3>
[sourcecode language="css"].alpha {
  background: url('ponies.png');
  font-family: 'Times New Roman', 'Arial';
}[/sourcecode]
becomes
[sourcecode language="css"].alpha{background:url(ponies.png);font-family:'Times New Roman',arial}[/sourcecode]

<h3>As much text as possible is changed to lower-case.</h3>
Only selectors, quoted strings (such as 'Times New Roman') and url() values are left intact.

Note that this means that if you mix the case of your selectors (for example, SPAN and span), your compression will be sub-optimal.

<h3>Thanks</h3>
Some of the ideas for this update were inspired by <a href="http://www.lotterypost.com/css-compress.aspx">Lottery Post's CSS Compressor</a>.

<h2>Start using it!</h2>
<h3>Requirements</h3>
You will need a recent version of Java and the Java compiler.
<h3>Download</h3>
<a href="https://github.com/barryvan/CSSMin">Download or fork it on GitHub.</a>
<h3>Usage</h3>
<ol><li>Compile the Java: [sourcecode]# javac CSSMin.java[/sourcecode]</li>
<li>Run your CSS through it: [sourcecode]# java CSSMin [input] [output][/sourcecode]</li></ol>
If you don't specify an output file, the result will be dumped to stdout. Warnings and errors are written to stderr.

<h2>Results</h2>
These are the results of compressing the main CSS file for one of the webapps I develop at work. Note that many of these compressors only offer an online service, which means that they can't easily be used as part of your general build process.

<table class="comparison">
	<thead>
		<tr>
			<td>&nbsp;</td>
			<td>Original size (bytes)</td>
			<td>Gzipped size (bytes)</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td>Plain</td>
			<td>81938</td>
			<td>12291</td>
		</tr>
		<tr>
			<td><a href="http://developer.yahoo.com/yui/compressor/">YUI</a></td>
			<td>64434</td>
			<td>10198</td>
		</tr>
		<tr>
			<td><a href="http://www.lotterypost.com/css-compress.aspx">LotteryPost</a></td>
			<td>63609</td>
			<td>10165</td>
		</tr>
		<tr>
			<td><a href="http://www.cssdrive.com/compressor/compress_advanced.php">CSS Drive</a></td>
			<td>69275</td>
			<td>10795</td>
		</tr>
		<tr>
			<td><a href="https://github.com/barryvan/CSSMin">CSSMin</a></td>
			<td>63791</td>
			<td>9896</td>
		</tr>
	</tbody>
</table>

<h2>Feedback</h2>
Let me know how you go with it -- bug reports and feature requests are always welcome!

		
		<h2>Contact</h2>
<p>Barry van Oudtshoorn (bvanoudtshoorn [at] g[mail] [dot] com)
<br/>      </p>

      
    <div class="footer">
      get the source code on GitHub : <a href="http://github.com/barryvan/CSSMin">barryvan/CSSMin</a>
    </div>
    
  </div>

  
</body>
</html>
